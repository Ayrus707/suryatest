<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Changer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="canvas">
    <h1>This is color changer project</h1>
    <span class="buttons"id="grey"></span>
    <span class="buttons" id="yellow"></span>
    <span class="buttons" id="blue"></span>
    <span class="buttons" id="red"></span>
</div>

<div class="addcolor">
    <input type="text" class="hlo" id="texts">Enter A color of your choice
    <button class="hlo" id="btnn">Add Color</button>
    <button class="hlo" id="btnn2">Remove Color</button>
</div>


<script>
//This function fetched the input from input field and stores it in variable 'val', then it checked if the 
// entered colou is valid or not. If color is valid then it calls the function addyourcolor().
function inputtext(){
    const input=document.querySelector("#texts")
    const btn=document.querySelector("#btnn")
   btn.addEventListener('click',function(e){
   const val=input.value;
   input.value=" "
   let flag=isValidColor(val);
   if(flag==true) addyourcolor(val);
   else alert("Please Enter a Valid Color!")
   })
}
inputtext()

// function for checking valid color or not.
function isValidColor(color){
let flag=CSS.supports('color',color)
return flag
}
//function for adding the inputted color.
    function addyourcolor(color){
    const mydiv=document.querySelector(".canvas")
    const myspan=document.createElement('span')
    myspan.className="buttons"
    myspan.id=`${color}`
    myspan.style.backgroundColor=`${color}`
    mydiv.appendChild(myspan)
  //  console.log(myspan);
    myspan.addEventListener('click',function(e){
        document.body.style.backgroundColor=`${e.target.id}`
    })
}


// rest of the default code.
const button=document.querySelectorAll(".buttons")
const body=document.body;

button.forEach(function(btn){
    btn.addEventListener('click',function(e){
       const id=e.target.id;
       switch(id){
        case "grey": body.style.backgroundColor="grey"
        break;
        case "yellow": body.style.backgroundColor="yellow"
        break;
        case "blue": body.style.backgroundColor="blue"
        break;
        case "red": body.style.backgroundColor="red"
        break;
       }
    })
})

function removecolor(){
    const button=document.querySelector("#btnn2");
    button.addEventListener('click',function(e){
    const span1=document.querySelector('span:last-child')
    span1.remove()
    document.body.style.backgroundColor="white"
    })
}
removecolor()



</script>


</body>
</html>